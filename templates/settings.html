{#
Qbox, a Q&A website
Copyright (C) 2025  Rhys Baker

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
#}

{% extends 'base.html' %}
{% block title %}Account Settings - Qbox{% endblock %}
{% block og_title %}Account Settings - Qbox{% endblock %}
{% block og_description %}Update your Qbox profile details.{% endblock %}
{% block og_type %}website{% endblock %}
{% block content %}
<div class="content-section">
    <h2>Account Settings</h2>
</div>
<div class="card">
    <form method="POST" action="{{ url_for('settings') }}">
        {{ update_form.hidden_tag() }}
        <div class="form-group">
            {{ update_form.username.label }}
            {{ update_form.username(size=32, class_="form-control") }}
            {% for error in update_form.username.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ update_form.email.label }}
            {{ update_form.email(size=32, class_="form-control") }}
            {% for error in update_form.email.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ update_form.bio.label }}
            {{ update_form.bio(rows=3, cols=32, class_="form-control") }}
            {% for error in update_form.bio.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ update_form.avatar_url.label }} (<a href="{{ url_for('faq') }}#avatar-rules" target="_blank" rel="noopener">avatar rules</a>)
            {{ update_form.avatar_url(size=32, class_="form-control") }}
            {% for error in update_form.avatar_url.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ update_form.password.label }}
            {{ update_form.password(size=32, class_="form-control") }}
            {% for error in update_form.password.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ update_form.confirm_password.label }}
            {{ update_form.confirm_password(size=32, class_="form-control") }}
            {% for error in update_form.confirm_password.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-actions">
            {{ update_form.submit() }}
        </div>
    </form>
</div>
{% endblock %}
