<!--
Qbox, a Q&A website
Copyright (C) 2025  Rhys Baker

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{% extends 'base.html' %}
{% block title %}Recent Answers - Qbox{% endblock %}
{% block og_title %}Recent Answers - Qbox{% endblock %}
{% block og_description %}Latest answered questions on Qbox.{% endblock %}
{% block og_type %}website{% endblock %}
{% block content %}
    <h2>Recently Answered Questions</h2>
    <ul class="card-list">
        {% for answer in answers.items %}
            <li class="card">
                <div class="card-header">
                    <div><strong>Answered by</strong> <a href="{{ url_for('profile', username=answer.author.username) }}">{{ answer.author.username }}</a></div>
                    <div class="card-meta">
                        {{ answer.created_at|time_since }} -
                        <a href="{{ url_for('answer_permalink', username=answer.author.username, public_id=answer.public_id) }}">Permalink</a>
                    </div>
                </div>
                <p><strong>Question:</strong> {{ answer.question.question_text|nl2br }}</p>
                <p><strong>Answer:</strong> {{ answer.answer_text|nl2br }}</p>
            </li>
        {% endfor %}
    </ul>
    <div>
        {% if answers.has_prev %}
            <a href="{{ url_for('feed', page=answers.prev_num) }}">Previous</a>
        {% endif %}
        <span>Page {{ answers.page }} of {{ answers.pages }}</span>
        {% if answers.has_next %}
            <a href="{{ url_for('feed', page=answers.next_num) }}">Next</a>
        {% endif %}
    </div>
{% endblock %}
